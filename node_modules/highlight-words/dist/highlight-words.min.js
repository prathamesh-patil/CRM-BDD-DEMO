"use strict";Object.defineProperty(exports,"__esModule",{value:!0});let IDX=36,HEX="";for(;IDX--;)HEX+=IDX.toString(36);function uid(e=11){let t="",s=e;for(;s--;)t+=HEX[Math.random()*36|0];return t}const escapeRegexp=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,t=>`\\${t}`),regexpQuery=({terms:e,matchExactly:t=!1})=>{if(typeof e!="string")throw new TypeError("Expected a string");const s=escapeRegexp(e.trim());return`(${t?s:s.split(" ").join("|")})`},hasProp=e=>t=>t!==null&&typeof t!="undefined"&&e in t,hasMatch=hasProp("match"),chunkExists=e=>typeof e!="undefined";function clip({curr:e,next:t,prev:s,clipBy:r=3}){const o=e.text.split(" "),i=o.length;if(e.match||r>=i)return e.text;const n="...";return chunkExists(t)&&chunkExists(s)&&hasMatch(s)&&hasMatch(t)?i>r*2?[...o.slice(0,r),n,...o.slice(-r)].join(" "):e.text:chunkExists(t)&&hasMatch(t)?[n,...o.slice(-r)].join(" "):chunkExists(s)&&hasMatch(s)?[...o.slice(0,r),n].join(" "):e.text}var __assign=Object.assign;const hasLength=e=>e.length>0,highlightWords=({text:e,query:t,clipBy:s,matchExactly:r=!1})=>{const o=t.trim();if(o==="")return[{key:uid(),text:e,match:!1}];const i=new RegExp(regexpQuery({terms:o,matchExactly:r}),"ig");return e.split(i).filter(hasLength).map(n=>({key:uid(),text:n,match:r?n.toLowerCase()===o.toLowerCase():i.test(n)})).map((n,a,l)=>__assign(__assign({},n),typeof s=="number"&&{text:clip(__assign(__assign(__assign({curr:n},a<l.length-1&&{next:l[a+1]}),a>0&&{prev:l[a-1]}),{clipBy:s}))}))};exports.default=highlightWords;
//# sourceMappingURL=highlight-words.min.js.map
